<!DOCTYPE html>
<html lang="ku">
 <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Data Analyzer</title>
  <link href="https://cdn.jsdelivr.net/npm/@fontsource/inter@5.0.19/400.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/@fontsource/inter@5.0.19/600.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script src="https://unpkg.com/mammoth/mammoth.browser.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script>pdfjsLib.GlobalWorkerOptions.workerSrc = "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
  <style>
   :root{--bg:#f8fafc;--card:#ffffff;--muted:#64748b;--text:#0f172a;--brand:#3b82f6;--accent:#10b981;--danger:#ef4444;--border:#e2e8f0;--input-bg:#f1f5f9}
   *{box-sizing:border-box;margin:0;padding:0}
   html,body{height:100%; overflow:visible}
   body{margin:0;background:var(--bg);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";color:var(--text);line-height:1.6}
   .wrap{max-width:1400px;margin:0 auto;padding:20px}
   .grid{display:grid;grid-template-columns:1fr;gap:20px}
   @media(min-width:768px){.grid{grid-template-columns:380px 1fr}}
   .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:24px;box-shadow:0 1px 3px rgba(0,0,0,0.05)}
   .title{font-weight:600;font-size:20px;margin:0 0 16px;color:var(--text)}
   .row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
   input[type="text"], input[type="password"], textarea, select{width:100%;background:var(--input-bg);border:1px solid var(--border);color:var(--text);border-radius:10px;padding:12px 14px;font-size:14px;transition:border .2s;min-height:44px}
   @media(max-width:767px){input[type="text"], input[type="password"], textarea, select{font-size:16px;padding:14px}}
   input:focus, textarea:focus, select:focus{outline:none;border-color:var(--brand)}
   textarea{min-height:120px;resize:vertical;font-family:inherit}
   .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:14px 20px;border-radius:10px;border:1px solid var(--border);background:var(--card);color:var(--text);cursor:pointer;font-weight:500;font-size:14px;transition:all .2s;white-space:nowrap;min-height:44px}
   @media(max-width:767px){.btn{width:100%;padding:16px 20px}}
   .btn:hover{background:var(--input-bg);transform:translateY(-1px);box-shadow:0 4px 6px rgba(0,0,0,0.05)}
   .btn.primary{background:var(--brand);border-color:var(--brand);color:#fff}
   .btn.primary:hover{background:#2563eb}
   .btn.success{background:var(--accent);border-color:var(--accent);color:#fff}
   .btn.success:hover{background:#059669}
   .btn:disabled{opacity:.5;cursor:not-allowed;transform:none}
   .drop{border:2px dashed var(--border);border-radius:12px;padding:32px 20px;text-align:center;background:var(--input-bg);color:var(--muted);cursor:pointer;transition:all .2s}
   .drop:hover{border-color:var(--brand);background:#eff6ff}
   .pill{padding:6px 12px;border:1px solid var(--border);border-radius:999px;background:var(--input-bg);color:var(--text);font-size:13px;font-weight:500;cursor:pointer;transition:all .2s}
   .pill:hover{background:var(--card);border-color:var(--brand)}
   .muted{color:var(--muted);font-size:14px}
   .charts{display:grid;gap:20px;grid-template-columns:repeat(var(--chart-cols,1),1fr)}
   @media(min-width:640px){.charts{grid-template-columns:repeat(var(--chart-cols,2),1fr)}}
   @media(min-width:1024px){.charts{grid-template-columns:repeat(var(--chart-cols,3),1fr)}}
   .chart-item{display:flex;flex-direction:column;background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px;box-shadow:0 1px 3px rgba(0,0,0,0.05)}
   .chart-item canvas{height:var(--item-h, var(--chart-h,300px))!important}
   .diagrams{display:grid;gap:20px;margin-top:20px;grid-template-columns:repeat(var(--diagram-cols,1),1fr)}
   @media(min-width:768px){.diagrams{grid-template-columns:repeat(var(--diagram-cols,2),1fr)}}
   .graph{height:var(--diagram-h,320px);background:var(--input-bg);border:1px solid var(--border);border-radius:12px}
   canvas{background:var(--card);border:1px solid var(--border);border-radius:8px}
   .footer{display:flex;flex-direction:column;gap:16px;margin-top:24px;padding-top:20px;border-top:1px solid var(--border)}
   .footer .row{width:100%}
   @media(min-width:768px){.footer{flex-direction:row;justify-content:space-between;align-items:flex-start}}
   @media(max-width:767px){.footer .row{flex-direction:column;align-items:stretch}.footer .row > *{width:100%}}
   .charts > div, .diagrams > div, .card{break-inside: avoid; page-break-inside: avoid}
   .page-break{break-before: page; page-break-before: always}
   .insights li{margin:8px 0;padding-left:4px}
   .explanations{list-style:none;padding:0;margin:0}
   .explanations li{margin:16px 0;padding:16px 20px;background:var(--card);border:1px solid var(--border);border-left:4px solid var(--brand);border-radius:12px;line-height:1.8;box-shadow:0 1px 3px rgba(0,0,0,0.05);position:relative}
   .explanations li:before{content:attr(data-num);position:absolute;left:-12px;top:12px;background:var(--brand);color:#fff;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:13px;box-shadow:0 2px 4px rgba(59,130,246,0.3)}
   .explanations li:nth-child(even){border-left-color:var(--accent)}
   .explanations li:nth-child(even):before{background:var(--accent);box-shadow:0 2px 4px rgba(16,185,129,0.3)}
   @media(max-width:767px){.explanations li{padding:14px 16px;font-size:14px}.explanations li:before{width:24px;height:24px;font-size:12px;left:-10px;top:10px}}
   .badge{background:var(--input-bg);border:1px solid var(--border);border-radius:8px;padding:8px 12px;color:var(--brand);font-weight:500;font-size:13px}
   h1{font-size:28px;font-weight:700;margin-bottom:8px;color:var(--text)}
   h2,h3{margin:16px 0 12px;color:var(--text)}
   label{font-size:14px;font-weight:500;color:var(--text);margin-bottom:6px;display:block}
  </style>
 </head>
 <body>
  <div class="wrap">
   <h1 style="margin:0 0 14px;font-size:24px;font-weight:600">AI Data Analyzer</h1>
   <div class="grid">
    <div class="card">
     <p class="title">Ø¯Ø§ØªØ§Ú©Ø§Ù†Øª Ù‡Û•ÚµØ¨Ú˜ÛØ±Û• ÛŒØ§Ù† Ø¨Ø®Û•Ø±Û• Ù†Ø§ÙˆÛ•ÙˆÛ•</p>
     <div id="drop" class="drop" tabindex="0">
      ÙØ§ÛŒÙ„ Ù„ÛØ±Û• Ø¯Ø§Ø¨Û•Ø²ÛÙ†Û• ÛŒØ§Ù† Ú©Ù„ÛŒÚ© Ø¨Ú©Û• Ø¨Û† Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯Ù†
      <input id="file" type="file" multiple style="display:none" accept=".csv,.xlsx,.xls,.txt,.docx,.pdf,image/*" />
     </div>
     <div id="fileList" class="row" style="margin-top:10px"></div>
     <div style="height:10px"></div>
     <label class="muted">Ø¯Û•Ø³ØªÙ†ÙˆØ³ÛŒ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ/Ú©Û†Ù…ÛÙ†Øª</label>
     <textarea id="notes" placeholder="Ø¨Ø§Ø³ÛŒ Ø¯Ø§ØªØ§Ú©Ø§Ù† Ø¨Ú©Û• ÛŒØ§Ù† Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ ØªÛØ¨Ù†ÙˆÙˆØ³Û•"></textarea>
     <div class="row" style="margin-top:10px">
      <button id="analyze" class="btn primary">Analyze</button>
      <button id="sample" class="btn">Sample Data</button>
     </div>
     <p class="muted" style="margin-top:8px">API Ø¨Û• Ø´ÛÙˆÛ•ÛŒ Ù¾Ø§Ø±ÛØ²Ø±Ø§Ùˆ Ù„Û•Ø³Û•Ø± Ø³ÛØ±Ú¤Û•Ø±Û•. Ù„Û• ÙˆÛØ¨ Ù†ÛŒØ´Ø§Ù†Û• Ù†Ø§Ø¯Ø§Øª.</p>
    </div>

    <div class="card" id="resultsCard">
     <div class="row" style="justify-content:space-between">
      <p class="title" style="margin-bottom:0">Ø¦Û•Ù†Ø¬Ø§Ù…Û•Ú©Ø§Ù†</p>
      <span id="status" class="badge">Ready</span>
     </div>
     
     <div id="insightsWrap">
      <h3 style="margin:8px 0 8px">Insights</h3>
      <ul id="insights" class="insights"></ul>
     </div>
     <div id="summaryWrap" style="margin-top:8px">
      <h3 style="margin:8px 0 8px">Summary</h3>
      <div id="summary" class="muted"></div>
     </div>
     <div id="explanationsWrap" style="margin-top:24px">
      <h2 style="margin:20px 0 16px;font-size:22px;font-weight:600;color:var(--text);border-bottom:2px solid var(--border);padding-bottom:8px">ğŸ“‹ Detailed Explanations</h2>
      <ul id="explanations" class="explanations"></ul>
     </div>
     <div id="charts" class="charts"></div>
     <div id="diagrams" class="diagrams"></div>
     <div id="printReport" style="display:none"></div>
     <div class="footer">
      <div class="row">
       <span class="muted">Ú†Ø§Ø±ØªÛŒ Ø®Û†Ú©Ø§Ø±: Bar, Line, Pie, Histogram, Scatter</span>
       <span class="pill">Layout</span>
       <select id="chartCols" style="width:auto"><option value="1">1 col</option><option value="2">2 cols</option><option value="3" selected>3 cols</option><option value="4">4 cols</option></select>
       <select id="chartSize" style="width:auto"><option value="240">Small</option><option value="300" selected>Medium</option><option value="380">Large</option><option value="480">XL</option></select>
       <select id="diagramSize" style="width:auto"><option value="280">Diag S</option><option value="320" selected>Diag M</option><option value="420">Diag L</option><option value="520">Diag XL</option></select>
       <span class="pill">PDF</span>
       <label class="muted" style="display:flex;align-items:center;gap:6px"><input id="pdfLandscape" type="checkbox"/> Landscape</label>
      </div>
      <div class="row">
       <button id="download" class="btn success" disabled>Download PDF</button>
       <button id="exportXlsx" class="btn">Export Excel</button>
      </div>
     </div>
    </div>
   </div>
  </div>

  <script src="app.js"></script>
 </body>
 </html>
